# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ MAESTRO

## üî• Firestore Database

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `products`

**–ü—É—Ç—å:** Database ‚Üí Firestore Database ‚Üí Start collection

**Collection ID:** `products`

### 2. –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Security Rules)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Database ‚Üí Firestore Database ‚Üí Rules** –∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –ü—É–±–ª–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
    match /products/{productId} {
      allow read: if true;
      // –ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      allow create, update, delete: if request.auth != null;
    }
  }
}
```

### 3. –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∑–∞—Ä–∞–Ω–µ–µ:**

1. **–°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å:**
   - Collection: `products`
   - Fields: `category` (Ascending), `createdAt` (Descending)
   - Query scope: Collection

2. **–ò–Ω–¥–µ–∫—Å –¥–ª—è featured —Ç–æ–≤–∞—Ä–æ–≤:**
   - Collection: `products`
   - Fields: `featured` (Ascending), `createdAt` (Descending)
   - Query scope: Collection

---

## üíæ Firebase Storage

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Storage Rules

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Storage ‚Üí Rules** –∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // –ü—É–±–ª–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
    match /products/{productId}/{fileName} {
      allow read: if true;
      // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      allow write: if request.auth != null
        && resource.size < 5 * 1024 * 1024 // –º–∞–∫—Å–∏–º—É–º 5MB
        && resource.contentType.matches('image/.*'); // —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    }
  }
}
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –≤ Storage

```
/products/
  ‚îú‚îÄ‚îÄ product1-id/
  ‚îÇ   ‚îú‚îÄ‚îÄ main.jpg
  ‚îÇ   ‚îú‚îÄ‚îÄ interior.jpg
  ‚îÇ   ‚îî‚îÄ‚îÄ details.jpg
  ‚îú‚îÄ‚îÄ product2-id/
  ‚îÇ   ‚îú‚îÄ‚îÄ image1.png
  ‚îÇ   ‚îî‚îÄ‚îÄ image2.webp
  ‚îî‚îÄ‚îÄ ...
```

---

## üîê Authentication (–¥–ª—è –∞–¥–º–∏–Ω–∫–∏)

### 1. –í–∫–ª—é—á–µ–Ω–∏–µ Authentication

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication ‚Üí Get started**
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **Sign-in method**
3. –í–∫–ª—é—á–∏—Ç–µ **Email/Password**

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication ‚Üí Users**
2. –ù–∞–∂–º–∏—Ç–µ **Add user**
3. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å –¥–ª—è –∞–¥–º–∏–Ω–∞
4. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –í —Ä–∞–∑–¥–µ–ª–µ **Custom claims** –¥–æ–±–∞–≤—å—Ç–µ:
   ```json
   {"admin": true}
   ```

---

## üìä –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å Firestore

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Database ‚Üí Firestore Database**
2. –ù–∞–∂–º–∏—Ç–µ **Start collection**
3. Collection ID: `products`
4. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç —Å —Ç–∞–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```json
{
  "name": "–®–∫–∞—Ñ-–∫—É–ø–µ –ö–ª–∞—Å—Å–∏–∫",
  "category": "–®–∫–∞—Ñ—ã-–∫—É–ø–µ",
  "price": {
    "min": 800,
    "max": 1200
  },
  "description": "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π 2-—Å—Ç–≤–æ—Ä—á–∞—Ç—ã–π —à–∫–∞—Ñ-–∫—É–ø–µ —Å –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º–∏ —Ñ–∞—Å–∞–¥–∞–º–∏.",
  "colors": ["–í–µ–Ω–≥–µ", "–î—É–± –±–µ–ª–µ–Ω—ã–π", "–ë–µ–ª—ã–π"],
  "images": [],
  "inStock": true,
  "featured": true,
  "createdAt": "2025-01-02T10:00:00Z",
  "updatedAt": "2025-01-02T10:00:00Z"
}
```

---

## ‚öôÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –¢–µ—Å—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç: https://same-ykrh93wer9x-latest.netlify.app
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ú–∞–≥–∞–∑–∏–Ω"
3. –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä—ã –µ—Å—Ç—å –≤ –ë–î - –æ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∑—è—Ç—Å—è
4. –ï—Å–ª–∏ –ë–î –ø—É—Å—Ç–∞ - –ø–æ–∫–∞–∂–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

```javascript
// –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
console.log('Firebase config:', firebase.apps[0].options);
```

---

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ "Permission denied"
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ Rules
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ Firestore –∏ Storage

### 2. –¢–æ–≤–∞—Ä—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—É—Å—Ç–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å

### 3. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∏–ª–∏ Rules Storage
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –≤ –ø–æ–ª–µ `images` –∏ –ø—Ä–∞–≤–∏–ª–∞ Storage

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Firebase config –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
