# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MAESTRO - –°—Ö–µ–º–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**Firebase Project ID:** `doors-8531d`
**Database:** Firestore
**Storage:** Firebase Storage (–¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

---

## üóÇÔ∏è –ö–æ–ª–ª–µ–∫—Ü–∏—è: `products`

–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞ —à–∫–∞—Ñ–æ–≤-–∫—É–ø–µ.

### üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞

```typescript
interface Product {
  id: string                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π ID –¥–æ–∫—É–º–µ–Ω—Ç–∞
  name: string                  // –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
  category: ProductCategory     // –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞
  price: {                     // –¶–µ–Ω–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
    min: number                // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–≤ BYN)
    max: number                // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–≤ BYN)
  }
  description: string          // –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
  colors: string[]            // –ú–∞—Å—Å–∏–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
  images: string[]            // –ú–∞—Å—Å–∏–≤ –ø—É—Ç–µ–π –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –≤ Storage
  inStock: boolean            // –ï—Å—Ç—å –ª–∏ –≤ –Ω–∞–ª–∏—á–∏–∏
  featured: boolean           // –ü–æ–ø—É–ª—è—Ä–Ω—ã–π —Ç–æ–≤–∞—Ä (–ø–æ–∫–∞–∑–∞—Ç—å —Å –º–µ—Ç–∫–æ–π)
  createdAt: Timestamp        // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  updatedAt: Timestamp        // –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
}
```

### üéØ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ (ProductCategory)

- `"–®–∫–∞—Ñ—ã-–∫—É–ø–µ"` - –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —à–∫–∞—Ñ—ã-–∫—É–ø–µ
- `"–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à–∫–∞—Ñ—ã"` - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- `"–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–µ"` - –ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã
- `"–î–µ—Ç—Å–∫–∏–µ —à–∫–∞—Ñ—ã"` - –î–µ—Ç—Å–∫–∞—è –º–µ–±–µ–ª—å

### üì∏ –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

**Storage –ø—É—Ç—å:** `products/{productId}/{filename}`

**–§–æ—Ä–º–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ: `.jpg`, `.jpeg`, `.png`, `.webp`
- –†–∞–∑–º–µ—Ä: –¥–æ 5MB –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã: 800x600px –∏–ª–∏ –≤—ã—à–µ

**–ü—Ä–∏–º–µ—Ä –ø—É—Ç–∏ –≤ Storage:**
```
products/abc123def456/image1.jpg
products/abc123def456/image2.jpg
```

---

## üí∞ –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è

### –®–∫–∞—Ñ-–∫—É–ø–µ "–ö–ª–∞—Å—Å–∏–∫"
```json
{
  "name": "–®–∫–∞—Ñ-–∫—É–ø–µ –ö–ª–∞—Å—Å–∏–∫ 2-—Å—Ç–≤–æ—Ä—á–∞—Ç—ã–π",
  "category": "–®–∫–∞—Ñ—ã-–∫—É–ø–µ",
  "price": {
    "min": 800,
    "max": 1200
  },
  "description": "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π 2-—Å—Ç–≤–æ—Ä—á–∞—Ç—ã–π —à–∫–∞—Ñ-–∫—É–ø–µ —Å –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º–∏ —Ñ–∞—Å–∞–¥–∞–º–∏. –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–∫–∏ –¥–ª—è –æ–¥–µ–∂–¥—ã, —à—Ç–∞–Ω–≥—É –¥–ª—è –≤–µ—à–∞–ª–æ–∫ –∏ —è—â–∏–∫–∏ –¥–ª—è –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤.",
  "colors": ["–í–µ–Ω–≥–µ", "–î—É–± –±–µ–ª–µ–Ω—ã–π", "–û—Ä–µ—Ö", "–ë–µ–ª—ã–π"],
  "images": ["products/productId/main.jpg", "products/productId/interior.jpg"],
  "inStock": true,
  "featured": true,
  "createdAt": "2025-01-02T10:00:00Z",
  "updatedAt": "2025-01-02T10:00:00Z"
}
```

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —à–∫–∞—Ñ "–ù–∏—à–∞"
```json
{
  "name": "–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —à–∫–∞—Ñ –ù–∏—à–∞",
  "category": "–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à–∫–∞—Ñ—ã",
  "price": {
    "min": 1500,
    "max": 2500
  },
  "description": "–í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞. –ò–∑–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–∞–º –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –Ω–∏—à—É.",
  "colors": ["–î—É–± —Å–æ–Ω–æ–º–∞", "–í–µ–Ω–≥–µ", "–ë–µ–ª—ã–π –≥–ª—è–Ω–µ—Ü"],
  "images": ["products/productId/built-in-1.jpg"],
  "inStock": true,
  "featured": false,
  "createdAt": "2025-01-02T10:00:00Z",
  "updatedAt": "2025-01-02T10:00:00Z"
}
```

### –ì–∞—Ä–¥–µ—Ä–æ–±–Ω–∞—è "–õ—é–∫—Å"
```json
{
  "name": "–ì–∞—Ä–¥–µ—Ä–æ–±–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –õ—é–∫—Å",
  "category": "–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–µ",
  "price": {
    "min": 3000,
    "max": 8000
  },
  "description": "–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –æ—Å–≤–µ—â–µ–Ω–∏–µ–º, –æ—Å—Ç—Ä–æ–≤–æ–º, –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–æ–ª–æ–∫ –∏ —Å–µ–∫—Ü–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–¥–µ–∂–¥—ã.",
  "colors": ["–û—Ä–µ—Ö —Ç–µ–º–Ω—ã–π", "–î—É–± –±–µ–ª–µ–Ω—ã–π", "–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"],
  "images": ["products/productId/wardrobe-1.jpg", "products/productId/wardrobe-2.jpg"],
  "inStock": true,
  "featured": true,
  "createdAt": "2025-01-02T10:00:00Z",
  "updatedAt": "2025-01-02T10:00:00Z"
}
```

### –î–µ—Ç—Å–∫–∏–π —à–∫–∞—Ñ "–†–∞–¥—É–≥–∞"
```json
{
  "name": "–î–µ—Ç—Å–∫–∏–π —à–∫–∞—Ñ –†–∞–¥—É–≥–∞",
  "category": "–î–µ—Ç—Å–∫–∏–µ —à–∫–∞—Ñ—ã",
  "price": {
    "min": 600,
    "max": 900
  },
  "description": "–Ø—Ä–∫–∏–π –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —à–∫–∞—Ñ –¥–ª—è –¥–µ—Ç—Å–∫–æ–π –∫–æ–º–Ω–∞—Ç—ã. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —É–¥–æ–±–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞.",
  "colors": ["–†–æ–∑–æ–≤—ã–π", "–ì–æ–ª—É–±–æ–π", "–ó–µ–ª–µ–Ω—ã–π", "–ñ–µ–ª—Ç—ã–π"],
  "images": ["products/productId/kids-1.jpg"],
  "inStock": true,
  "featured": false,
  "createdAt": "2025-01-02T10:00:00Z",
  "updatedAt": "2025-01-02T10:00:00Z"
}
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Firestore

### –ò–Ω–¥–µ–∫—Å—ã
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:

1. **–°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¥–∞—Ç—ã:**
   - Collection: `products`
   - Fields: `category` (Ascending), `createdAt` (Descending)

2. **–ò–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤:**
   - Collection: `products`
   - Fields: `featured` (Ascending), `createdAt` (Descending)

### –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Security Rules)
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –ß—Ç–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤—Å–µ–º
    match /products/{productId} {
      allow read: if true;
      // –ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–æ–≤
      allow write: if request.auth != null && request.auth.token.admin == true;
    }
  }
}
```

---

## üì± –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∞–¥–º–∏–Ω–∫–∏

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤:**
   ```typescript
   const products = await getDocs(collection(db, 'products'))
   ```

2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
   ```typescript
   const q = query(
     collection(db, 'products'),
     where('category', '==', '–®–∫–∞—Ñ—ã-–∫—É–ø–µ')
   )
   ```

3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:**
   ```typescript
   await addDoc(collection(db, 'products'), productData)
   ```

4. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   ```typescript
   const imageRef = ref(storage, `products/${productId}/${fileName}`)
   await uploadBytes(imageRef, file)
   const downloadURL = await getDownloadURL(imageRef)
   ```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
- ‚úÖ `name` - –Ω–µ –ø—É—Å—Ç–æ–µ
- ‚úÖ `category` - –æ–¥–∏–Ω –∏–∑ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Ç–∏–ø–æ–≤
- ‚úÖ `price.min` - –±–æ–ª—å—à–µ 0
- ‚úÖ `price.max` - –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ `price.min`
- ‚úÖ `description` - –Ω–µ –ø—É—Å—Ç–æ–µ
- ‚úÖ `images` - –º–∏–Ω–∏–º—É–º 1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î

**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞
**–ù–µ–æ–±—Ö–æ–¥–∏–º–æ:** –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å —Å 3-4 —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö
